%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                      %
%                     ENGINEERING MATHS - ENGE401                      %
%                  AUCKLAND UNIVERSITY OF TECHNOLOGY                   %
%                            COURSE MANUAL                             %
%                         LATEX SOURCE FILES                           %
%                                                                      %
% version 2.0 by Jeff Nijsse, 2018                                     %
% <jeff.nijsse@aut.ac.nz>                                              %
% based on                                                             %
% version 1.0 by Peter Watson, 2010                                    %  
%                                                                      %
% This project is on GitHub, find it and download the source files at: %
% <https://github.com/millecodex/ENGE401/>                             % 
%                                                                      %
% Licenced under MIT General License (c) 2019                          %
%                                                                      % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% for published book output
\documentclass[a4paper,11pt,openany]{book}
% for pdf output
%\documentclass[a4paper,11pt]{report}
\usepackage{amssymb,amsmath,amsfonts,xcolor,graphicx,xspace,colortbl,ragged2e,rotating} % 
\usepackage{fancyhdr,titlesec,geometry,tcolorbox}  %
\usepackage{multicol,wrapfig,booktabs}  %
\usepackage{tabulary}  %
\usepackage{import}%may not work for answers
\usepackage{subcaption,float}
\usepackage{pgfplots,tikz}
\usepackage{courier}  %
\usepackage{hyperref}  %exclude for book printing?
\hypersetup{
	colorlinks,
	linkcolor={blue!50!black},
	citecolor={blue!50!black},
	urlcolor={blue!50!black}
}
\usepackage[]{tocloft} %
\graphicspath{{./graphics/}} %
%
%
% margin parameters must come before header info
\geometry{voffset=-25pt,headsep=30pt,textwidth=476pt,bottom=2cm,footskip=30pt,left=2.5cm,right=2cm}
%
\raggedbottom
%
% fancy header and footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\rightmark}
\fancyhead[RE]{\leftmark}
%
% Redefine the 'plain' page-style for the first page of each chapter
\fancypagestyle{plain}{%
  \fancyhf{}%
  \renewcommand{\headrulewidth}{0pt}% Line at the header invisible
}
%
% paragraph formatting for math
\setlength{\parindent}{0in}
\setlength{\parskip}{10pt plus 1pt minus 1pt}
%
% heading formatting using package titlesec
\newcommand{\hsp}{\hspace{10pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp{$\vert$}\hsp}{1pt}{\Huge\bfseries}
%
%\titlespacing*{command}{left}{before-sep}{after-sep}[right-sep]
\titlespacing*{\chapter}{0pt}{0pt}{25pt}
%
% section heading formatting
\titleformat{\section}[block]{\Large\bf}{\thesection\quad}{1pt}{}
\titlespacing{\section}{0pt}{20pt}{-5pt}
\titleformat{\subsection}[block]{\large\bf}{\thesubsection\quad}{1pt}{}
\titlespacing{\subsection}{0pt}{20pt}{-5pt}
%
% depth
\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{1}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% exercise package code 
% adapted from: https://tex.stackexchange.com/questions/
% 369265/math-book-how-to-write-exercise-and-answers
% written by user: https://tex.stackexchange.com/users/103046/tiuri
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{newfile}
\usepackage{xifthen}
\usepackage{enumitem}

\setlength{\parindent}{0pt}

\newoutputstream{solutions}
\openoutputfile{\jobname.solutions}{solutions}
\newcounter{exblock}
\newcounter{exquestion}
\newcounter{exsubquestion}
\newlist{questionlist}{enumerate}{1}
\newlist{solutionlist}{enumerate}{1}
\newlist{subquestionlist}{enumerate*}{1}
\newlist{subsolutionlist}{enumerate*}{1}
\setlist[questionlist,solutionlist]{label=\arabic*.}
\setlist[subquestionlist,subsolutionlist]{label=(\alph*),itemjoin={},before=~}
\newcommand{\exheader}{%
	\ifthenelse{\value{exblock}>0}{\addtostream{solutions}{\noexpand\end{solutionlist}}}{}%
\refstepcounter{exblock}%
\setcounter{exquestion}{0}%
\section{Exercises}%
\label{ex.\arabic{exblock}}%
\addtostream{solutions}{\noexpand\paragraph{Exercises \noexpand\ref{ex.\arabic{exblock}}, page \noexpand\pageref{ex.\arabic{exblock}}}}%
\addtostream{solutions}{\noexpand\begin{solutionlist}}%
}
\newcommand{\printsolutions}{%
	\ifthenelse{\value{exblock}>0}{\addtostream{solutions}{\noexpand\end{solutionlist}}}{}%
\closeoutputstream{solutions}%
\input{\jobname.solutions}%
}
\newenvironment{exercises}[1][]{%
\begin{questionlist}[start=\value{exquestion}+1, #1]%
}{%
\end{questionlist}%
}
\newenvironment{exercisescol}[2][]{%
\begin{multicols}{#2}%
	\begin{questionlist}[start=\value{exquestion}+1, #1]%
	}{%
	\end{questionlist}%
\end{multicols}%
}
\newcommand{\question}[2]{%
\refstepcounter{exquestion}%
\label{ex.\arabic{exblock}.\arabic{exquestion}}%
\item #1%
\addtostream{solutions}{\noexpand\item[\noexpand\ref{ex.\arabic{exblock}.\arabic{exquestion}}.] #2}%
}
\newenvironment{subquestions}[1][]{%
\refstepcounter{exquestion}%
\label{ex.\arabic{exblock}.\arabic{exquestion}}%
\setcounter{exsubquestion}{0}%
\addtostream{solutions}{\noexpand\item[\noexpand\ref{ex.\arabic{exblock}.\arabic{exquestion}}.]\noexpand\begin{subsolutionlist}}%
	\item #1%
	\begin{subquestionlist}%
	}{%
	\end{subquestionlist}%
	\addtostream{solutions}{\noexpand\end{subsolutionlist}}
}
\newcommand{\subquestion}[2]{%
\refstepcounter{exsubquestion}%
\item #1%
\addtostream{solutions}{\noexpand\item #2}%
}
\setlist*[questionlist]{font=\bfseries}
\setlist*[solutionlist]{noitemsep,font=\bfseries}
\setlist*[subquestionlist]{font=\bfseries}
\setlist*[subsolutionlist]{noitemsep,font=\bfseries,itemjoin={\\},before={}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% END exercise package code 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeindex
\begin{document}
\frontmatter
\begin{titlepage}
\begin{center}

\includegraphics[width=7cm]{AUTlogo}\\
{\vspace{2cm}}
 {\Large School of Engineering, Computer, and Mathematical Sciences}
 % ----------------------------------------------------------------
 \vspace{3cm}\\
 {\huge Engineering Mathematics}\\
   % ----------------------------------------------------------------
 \vspace{1cm}
{\huge ENGE 401} \\
 \vspace{1cm}
{\huge 2019 Semester 1} \\
% ----------------------------------------------------------------
 \vfill
\end{center}
\end{titlepage}

\clearpage\thispagestyle{empty}
\vspace*{\fill}
Engineering Mathematics - ENGE401\\
Auckland University Of Technology\\
Course Manual\\

This project is on GitHub, find it \\
and download the source files at: \\
\url{https://github.com/millecodex/ENGE401} \\                            

Licenced under MIT General License (c) 2019 \\   

Version 2.1 by Jeff Nijsse, 2019.\\
\href{mailto:Jeff.Nijsse@aut.ac.nz}{\texttt{Jeff.Nijsse@aut.ac.nz}}\\
Version 1.0 by Peter Watson, 2010.


\clearpage
\hypersetup{linkcolor={black}}
\tableofcontents
\mainmatter
%    Include main chapters here.
\include{chAlgebra}
%\include{chTrig}
%\include{chExponentials}
%\include{chDifferentiation}
%\include{chIntegration}
%\include{chDiffEqns}
\include{chAnswers}
%\appendix
%    Include appendix "chapters" here.
%\include{}

\backmatter
%    Bibliography styles amsplain or harvard are also acceptable.
%\bibliographystyle{amsalpha}
%\bibliography{}
%    See note above about multiple indexes.
%\printindex

\end{document}
%
%
%
%
%
%
% //end main
% Have a good day :-)
% -Jeff
